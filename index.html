<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Find Films - vue.js</title>

	<!-- development version, includes helpful console warnings -->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>


	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</head>

<body>
	<header>
		<div class="navbar navbar-dark bg-dark shadow-sm">
			<div class="container d-flex justify-content-between">
				<a href="#" class="navbar-brand d-flex align-items-center">
					<svg class="mr-3" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-camera-reels" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" d="M0 8a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 7.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 16H2a2 2 0 0 1-2-2V8zm11.5 5.175l3.5 1.556V7.269l-3.5 1.556v4.35zM2 7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H2z"/>
						<path fill-rule="evenodd" d="M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
						<path fill-rule="evenodd" d="M9 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
					</svg>

					<strong>Find Films</strong>
				</a>
			</div>
		</div>
	</header>

	<main role="main">
		<section class="jumbotron text-center mb-0">
			<div class="container">
				<h1 class="jumbotron-heading">Поиск фильмов</h1>
				<p class="lead text-muted">Поиск фильмов основанный на OMDb API. <code>http://www.omdbapi.com/</code></p>
			</div>
		</section>

		<div class="album py-5 bg-light">
			<div class="container">
				<div class="row">
					<div class="col-md-4">
						<div class="card mb-4 shadow-sm">
							<svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
								<title>Placeholder</title>
								<rect fill="#55595c" width="100%" height="100%" />
								<text fill="#eceeef" dy=".3em" x="50%" y="50%">Thumbnail</text>
							</svg>
							<div class="card-body">
								<p class="h4">Название</p>
								<p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
								<div class="d-flex justify-content-between align-items-center">
									<div class="btn-group">
										<button type="button" class="btn btn-sm btn-outline-secondary">View</button>
										<button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
									</div>
									<small class="text-muted">9 mins</small>
								</div>
							</div>
						</div>
					</div>

					<div class="col-md-4">
						<div class="card mb-4 shadow-sm">
							<svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
								<title>Placeholder</title>
								<rect fill="#55595c" width="100%" height="100%" />
								<text fill="#eceeef" dy=".3em" x="50%" y="50%">Thumbnail</text>
							</svg>
							<div class="card-body">
								<p class="h4">Название</p>
								<p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
								<div class="d-flex justify-content-between align-items-center">
									<div class="btn-group">
										<button type="button" class="btn btn-sm btn-outline-secondary">View</button>
										<button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
									</div>
									<small class="text-muted">9 mins</small>
								</div>
							</div>
						</div>
					</div>

					<div class="col-md-4">
						<div class="card mb-4 shadow-sm">
							<svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
								<title>Placeholder</title>
								<rect fill="#55595c" width="100%" height="100%" />
								<text fill="#eceeef" dy=".3em" x="50%" y="50%">Thumbnail</text>
							</svg>
							<div class="card-body">
								<p class="h4">Название</p>
								<p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
								<div class="d-flex justify-content-between align-items-center">
									<div class="btn-group">
										<button type="button" class="btn btn-sm btn-outline-secondary">View</button>
										<button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
									</div>
									<small class="text-muted">9 mins</small>
								</div>
							</div>
						</div>
					</div>

					
				</div>
			</div>
		</div>
	</main>




	<div id="app">
		<select v-model="selected_currency">
			<option v-for="currency_item in currency_list" :key="currency_item.id" v-bind:value="currency_item.id">{{currency_item.name}}</option>
		</select>
		<hr>

		<cart-product-item
			v-for="(product, product_index) in products"
			v-bind:key="product_index"
			v-bind:products="products"
			v-bind:product="product"
			v-bind:product_index="product_index"
			v-bind:currency="currency"
		></cart-product-item>

		<cart-total
			v-bind:products="products"
			v-bind:currency="currency"
		></cart-total>
	</div>


	<script>
		// Vue.component('cart-product-item', {
		// 	props: ['products', 'product', 'product_index', 'currency'],
		// 	computed: {
		// 		price_convert: function() {
		// 			return +(this.product.price / this.currency.value).toFixed(2);
		// 		},
		// 		total: function() {
		// 			return +(this.price_convert * this.product.quantity).toFixed(2);
		// 		}
		// 	},
		// 	methods: {
		// 		checkInputQuantity: function() {
		// 			this.product.quantity = Number(String(this.product.quantity).replace(/\D+/g, ''));
		// 			if (this.product.quantity < 1) { this.product.quantity = 1; }
		// 		},
		// 		increaseQuantity: function() {
		// 			this.product.quantity += 1;
		// 		},
		// 		decreaseQuantity: function() {
		// 			if (this.product.quantity > 1) { this.product.quantity -= 1; }
		// 		},
		// 		deleteProduct: function() {
		// 			this.products.splice(this.product_index, 1);
		// 		}
		// 	},
		// 	template: `
		// 		<div class="cart-product-item" style="background: #f2f2f2; margin-bottom: 10px; padding: 15px;">

		// 			<button @click="decreaseQuantity">-</button>
		// 			<input type="text" v-model="product.quantity" @input="checkInputQuantity" style="width: 30px;">
		// 			<button @click="increaseQuantity">+</button>

		// 			<span><b>{{ product.name }}:</b> {{ product.price }} {{ currency.short }} x {{ product.quantity }} шт. = {{ total }} {{ currency.short }}</span>
		// 			<button @click="deleteProduct">Удалить</button>
		// 		</div>
		// 	`
		// })

		// Vue.component('cart-total', {
		// 	props: ['products', 'currency'],
		// 	computed: {
		// 		total: function() {
		// 			var total = 0;
		// 			this.products.forEach(function(product, i, arr) {
		// 				total += product.price * product.quantity;
		// 			});

		// 			if (total > 0) { total = total / this.currency.value; }
					
		// 			return +total.toFixed(2);
		// 		}
		// 	},
		// 	template: `
		// 		<div class="cart-total" style="background: #daf5db; margin-bottom: 10px; padding: 15px;">
		// 			{{ total }} {{ currency.short }}
		// 		</div>
		// 	`
		// })

		var app = new Vue({
			el: '#app',
			data: {
				selected_currency: 0,
				currency_list: [
					{id: 0, name: 'Рубли', short: 'руб.', value: 1},
					{id: 1, name: 'Доллары', short: '$', value: 73.46},
				],
				products: [
					{id: 0, name: 'Товар 1', price: 150, quantity: 2},
					{id: 1, name: 'Товар 2', price: 230, quantity: 1},
					{id: 2, name: 'Товар 3', price: 1230, quantity: 5},
				]
			},
			computed: {
				currency: function() {
					return this.currency_list[ this.selected_currency ];
				},
			},
			methods: {
			}
		})
	</script>
</body>
</html>